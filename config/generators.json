{
  "pipelines": [
    {
      "name": "catalogs",
      "stages": [
        {"operation": "GetAllStructuresForFilter", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllStructuresForFilter"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllApplicationTypes", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllApplicationTypes"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllGenders", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllGenders"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllMaterialStatusesForFilter", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllMaterialStatusesForFilter"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllMaterialTypesForFilter", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllMaterialTypesForFilter"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllProcedureTypes", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllProcedureTypes"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllQuestionStatuses", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllQuestionStatuses"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllSittingStatuses", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllSittingStatuses"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetAllInstitutionsForFilter", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetAllInstitutionsForFilter"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "GetProposerTypes", "calls": 1, "params": {"methodName": {"generator": "constant", "value": "GetProposerTypes"}, "languageId": {"generator": "constant", "value": 1}}},
        {"operation": "LoadLanguage", "calls": 1, "url": "https://www.sobranie.mk/Infrastructure/LoadLanguage", "params": {}}
      ]
    },
    {
      "name": "sittings_and_voting",
      "stages": [
        {
          "operation": "GetAllSittings", "calls": 6,
          "params": {"methodName": {"generator": "constant", "value": "GetAllSittings"}, "page": {"generator": "range", "min": 1, "max": 3}, "rows": {"generator": "range", "min": 10, "max": 50}, "languageId": {"generator": "constant", "value": 1}, "typeId": {"generator": "range", "min": 1, "max": 2}, "structureId": {"generator": "current_structure"}},
          "extract": {"sittingId": "$.Items[*].Id"}
        },
        {
          "operation": "GetSittingDetails", "calls": 8,
          "params": {"methodName": {"generator": "constant", "value": "GetSittingDetails"}, "languageId": {"generator": "constant", "value": 1}, "sittingId": {"source": "sittingId"}},
          "extract": {
            "votingPair": {
              "from": "$..children[?VotingDefinitions[0]]",
              "pick": {
                "votingDefId": "$.VotingDefinitions[0].Id",
                "agendaItemId": "$.id"
              }
            }
          }
        },
        {
          "operation": "GetVotingResultsForAgendaItem", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetVotingResultsForAgendaItem"}, "languageId": {"generator": "constant", "value": 1}, "votingDefinitionId": {"source": "votingPair.votingDefId"}, "agendaItemId": {"source": "votingPair.agendaItemId"}}
        },
        {
          "operation": "GetVotingResultsForAgendaItemReportDocument", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetVotingResultsForAgendaItemReportDocument"}, "languageId": {"generator": "constant", "value": 1}, "votingDefinitionId": {"source": "votingPair.votingDefId"}, "agendaItemId": {"source": "votingPair.agendaItemId"}}
        },
        {
          "operation": "GetVotingResultsForSitting", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetVotingResultsForSitting"}, "languageId": {"generator": "constant", "value": 1}, "votingDefinitionId": {"source": "votingPair.votingDefId"}, "sittingId": {"source": "sittingId"}}
        }
      ]
    },
    {
      "name": "materials_and_amendments",
      "stages": [
        {
          "operation": "GetAllMaterialsForPublicPortal", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetAllMaterialsForPublicPortal"}, "languageId": {"generator": "constant", "value": 1}, "itemsPerPage": {"generator": "range", "min": 10, "max": 50}, "currentPage": {"generator": "range", "min": 1, "max": 3}, "structureId": {"generator": "current_structure"}},
          "extract": {"materialId": "$.Items[*].Id"}
        },
        {
          "operation": "GetMaterialDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetMaterialDetails"}, "languageId": {"generator": "constant", "value": 1}, "materialId": {"source": "materialId"}, "amendmentsPage": {"generator": "range", "min": 1, "max": 3}, "amendmentsRows": {"generator": "range", "min": 10, "max": 50}},
          "extract": {"amendmentId": "$..FirstReadingAmendments[*].Id"}
        },
        {
          "operation": "GetAmendmentDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetAmendmentDetails"}, "languageId": {"generator": "constant", "value": 1}, "amendmentId": {"source": "amendmentId"}}
        }
      ]
    },
    {
      "name": "questions",
      "stages": [
        {
          "operation": "GetAllQuestions", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetAllQuestions"}, "languageId": {"generator": "constant", "value": 1}, "currentPage": {"generator": "range", "min": 1, "max": 3}, "page": {"generator": "range", "min": 1, "max": 3}, "rows": {"generator": "range", "min": 10, "max": 50}, "structureId": {"generator": "current_structure"}},
          "extract": {"questionId": "$.Items[*].Id"}
        },
        {
          "operation": "GetQuestionDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetQuestionDetails"}, "languageId": {"generator": "constant", "value": 1}, "questionId": {"source": "questionId"}}
        }
      ]
    },
    {
      "name": "committees",
      "stages": [
        {
          "operation": "GetAllCommitteesForFilter", "calls": 1,
          "params": {"methodName": {"generator": "constant", "value": "GetAllCommitteesForFilter"}, "languageId": {"generator": "constant", "value": 1}, "structureId": {"generator": "current_structure"}},
          "extract": {"committeeId": "$[*].Id"}
        },
        {
          "operation": "GetCommitteeDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetCommitteeDetails"}, "languageId": {"generator": "constant", "value": 1}, "committeeId": {"source": "committeeId"}}
        }
      ]
    },
    {
      "name": "councils",
      "stages": [
        {
          "operation": "GetAllCouncils", "calls": 1,
          "params": {"methodName": {"generator": "constant", "value": "GetAllCouncils"}, "languageId": {"generator": "constant", "value": 1}, "StructureId": {"generator": "current_structure"}},
          "extract": {"councilId": "$[*].Id"}
        },
        {
          "operation": "GetCouncilDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetCouncilDetails"}, "languageId": {"generator": "constant", "value": 1}, "councilId": {"source": "councilId"}}
        }
      ]
    },
    {
      "name": "mps_clubs",
      "stages": [
        {
          "operation": "GetAllMPsClubsByStructure", "calls": 1,
          "params": {"methodName": {"generator": "constant", "value": "GetAllMPsClubsByStructure"}, "languageId": {"generator": "constant", "value": 1}, "structureId": {"generator": "current_structure"}},
          "extract": {"mpsClubId": "$[*].Id"}
        },
        {
          "operation": "GetMPsClubDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetMPsClubDetails"}, "languageId": {"generator": "constant", "value": 1}, "mpsClubId": {"source": "mpsClubId"}}
        }
      ]
    },
    {
      "name": "parliamentary_groups",
      "stages": [
        {
          "operation": "GetAllParliamentaryGroups", "calls": 1,
          "params": {"methodName": {"generator": "constant", "value": "GetAllParliamentaryGroups"}, "languageId": {"generator": "constant", "value": 1}, "structureId": {"generator": "current_structure"}},
          "extract": {"parlGroupId": "$[*].Id"}
        },
        {
          "operation": "GetParliamentaryGroupDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetParliamentaryGroupDetails"}, "languageId": {"generator": "constant", "value": 1}, "parliamentaryGroupId": {"source": "parlGroupId"}}
        }
      ]
    },
    {
      "name": "political_parties",
      "stages": [
        {
          "operation": "GetAllPoliticalParties", "calls": 1,
          "params": {"methodName": {"generator": "constant", "value": "GetAllPoliticalParties"}, "languageId": {"generator": "constant", "value": 1}, "structureId": {"generator": "current_structure"}},
          "extract": {"partyId": "$[*].Id"}
        },
        {
          "operation": "GetPoliticalPartyDetails", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetPoliticalPartyDetails"}, "languageId": {"generator": "constant", "value": 1}, "politicalPartyId": {"source": "partyId"}}
        }
      ]
    },
    {
      "name": "mps_and_visits",
      "stages": [
        {
          "operation": "GetParliamentMPsNoImage", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetParliamentMPsNoImage"}, "languageId": {"generator": "constant", "value": 1}, "page": {"generator": "range", "min": 1, "max": 3}, "rows": {"generator": "range", "min": 10, "max": 50}, "structureId": {"generator": "current_structure"}},
          "extract": {"userId": "$.MembersOfParliament[*].UserId"}
        },
        {
          "operation": "GetUserDetailsByStructure", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetUserDetailsByStructure"}, "languageId": {"generator": "constant", "value": 1}, "userId": {"source": "userId"}, "structureId": {"generator": "current_structure"}}
        },
        {
          "operation": "GetOfficialVisitsForUser", "calls": 2,
          "url": "https://www.sobranie.mk/Moldova/services/OfficialVisits.asmx/GetOfficialVisitsForUser",
          "params": {"model": {"source": "userId"}}
        }
      ]
    },
    {
      "name": "calendar",
      "stages": [
        {
          "operation": "GetCustomEventsCalendar", "calls": 4,
          "url": "https://www.sobranie.mk/Moldova/services/CalendarService.asmx/GetCustomEventsCalendar",
          "params": {"model": {"generator": "object", "properties": {"Language": {"generator": "constant", "value": 1}, "Month": {"generator": "range", "min": 1, "max": 12}, "Year": {"generator": "current_structure_year"}}}}
        }
      ]
    },
    {
      "name": "monthly_agenda",
      "stages": [
        {
          "operation": "GetMonthlyAgenda", "calls": 4,
          "params": {"methodName": {"generator": "constant", "value": "GetMonthlyAgenda"}, "languageId": {"generator": "constant", "value": 1}, "month": {"generator": "range", "min": 1, "max": 12}, "year": {"generator": "current_structure_year"}}
        }
      ]
    }
  ]
}
